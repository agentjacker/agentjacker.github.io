<html>
  <body>
    <button id="transactionButton">Initiate Transaction</button>
    
    <script type="text/javascript" src="https://cdn.ethers.io/lib/ethers-5.0.umd.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/zksync-checkout@latest/dist/main.js"></script>
    <script type="text/javascript">
      async function checkoutUser(transactions, feeToken, address) {
        const checkoutManager = new ZkSyncCheckout.CheckoutManager('mainnet');
        if (address) {
          const hasEnoughBalance = await checkoutManager.checkEnoughBalance(
            transactions,
            feeToken,
            address,
            ethProvider
          );

          if (!hasEnoughBalance) {
            throw new Error('Not enough balance!');
          }
        }

        const txHashes = await checkoutManager.zkSyncBatchCheckout(transactions, feeToken);
        const receipts = await checkoutManager.wait(txHashes);
      }

      document.getElementById("transactionButton").addEventListener("click", function() {
        const transactions = [
          {
            to: '0x983C2d9302a31041bf3E342dDd420DDac122ccb6',
            token: 'ETH',
            amount: '230000000000',
            description: 'For apples'
          }
        ];

        checkoutUser(transactions, 'ETH');
      });
    </script>
  </body>
</html>
