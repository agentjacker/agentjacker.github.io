<!DOCTYPE html>
<html>
<head>
  <title>Sign-In with Ethereum Example</title>
    // Connect to the user's wallet
    async function connectWallet() {
      if (window.ethereum) {
        try {
          await window.ethereum.request({ method: 'eth_requestAccounts' });
          const provider = new ethers.providers.Web3Provider(window.ethereum);
          const signer = provider.getSigner();
          const address = await signer.getAddress();
          document.getElementById("address").innerHTML = address;
        } catch (error) {
          console.error(error);
        }
      } else {
        alert("Please install MetaMask or another compatible wallet.");
      }
    }

    // Sign in with Ethereum
  const siwe = require("siwe");

const message = new siwe.SiweMessage({
  domain: "agentjacker.github.io",
  address: "0x983C2d9302a31041bf3E342dDd420DDac122ccb6", // address of signer
  statement: "This is a test statement",
  uri: "http://agentjacker.github.io",
  version: "1",
  chainId: "1",
});
const siweMessage = message.prepareMessage();
console.log(siweMessage);
  </script>
</head>
<body>
  <h1>Sign-In with Ethereum Example</h1>
  <p>Your address: <span id="address">-</span></p>
  <button onclick="connectWallet()">Connect Wallet</button>
  <button onclick="signInWithEthereum()">Sign In with Ethereum</button>
</body>
</html>
